(()=>{var e={};e.id=4655,e.ids=[4655],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},16788:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>o,routeModule:()=>x,tree:()=>d});var t=a(50482),i=a(69108),n=a(62563),c=a.n(n),r=a(68300),l={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>r[e]);a.d(s,l);let d=["",{children:["event-dashboard",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8816)),"/Users/shreyasgurav/Documents/Projects/Zest Deployed/src/app/event-dashboard/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,39258)),"/Users/shreyasgurav/Documents/Projects/Zest Deployed/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/shreyasgurav/Documents/Projects/Zest Deployed/src/app/event-dashboard/[id]/page.tsx"],h="/event-dashboard/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/event-dashboard/[id]/page",pathname:"/event-dashboard/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},463:(e,s,a)=>{Promise.resolve().then(a.bind(a,10623))},12594:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},53148:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},33733:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},38271:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},46064:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},89895:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(97075).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},10623:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>q});var t=a(95344),i=a(3729),n=a(8428),c=a(81012),r=a(87097),l=a(14408);class d{static async verifyDashboardAccess(e,s){try{let a=await (0,r.QT)((0,r.JU)(c.db,"events",e));if(!a.exists())return this.getUnauthorizedPermissions();let t=a.data();if(t.organizationId===s||t.creator&&t.creator.userId===s)return this.getOwnerPermissions();return this.getUnauthorizedPermissions()}catch(e){return console.error("Error verifying dashboard access:",e),this.getUnauthorizedPermissions()}}static getOwnerPermissions(){return{canView:!0,canEdit:!0,canDelete:!0,canManageAttendees:!0,canViewFinancials:!0,canSendCommunications:!0,role:"owner"}}static getAdminPermissions(){return{canView:!0,canEdit:!0,canDelete:!1,canManageAttendees:!0,canViewFinancials:!0,canSendCommunications:!0,role:"admin"}}static getEditorPermissions(){return{canView:!0,canEdit:!0,canDelete:!1,canManageAttendees:!0,canViewFinancials:!1,canSendCommunications:!1,role:"editor"}}static getViewerPermissions(){return{canView:!0,canEdit:!1,canDelete:!1,canManageAttendees:!1,canViewFinancials:!1,canSendCommunications:!1,role:"viewer"}}static getUnauthorizedPermissions(){return{canView:!1,canEdit:!1,canDelete:!1,canManageAttendees:!1,canViewFinancials:!1,canSendCommunications:!1,role:"unauthorized"}}static canPerformAction(e,s){return!0===e[s]}}var o=a(55794),h=a(80508),m=a(33733),x=a(97075);let u=(0,x.Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=a(34087),v=a(89895),N=a(14513);let p=(0,x.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,x.Z)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var b=a(46064),y=a(76196),k=a(12594),f=a(53148);let C=(0,x.Z)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),S=(0,x.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),I=(0,x.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),M=(0,x.Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var w=a(28765);let P=(0,x.Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),$=(0,x.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),A=(0,x.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var _=a(38271),T=a(57570),Z=a.n(T);function q({className:e}){let s=(0,n.useParams)(),a=(0,n.useRouter)(),x=(0,l.v0)(),T=s?.id,[q,D]=(0,i.useState)("overview"),[L,V]=(0,i.useState)(null),[E,U]=(0,i.useState)(""),[z,H]=(0,i.useState)("all"),[B,R]=(0,i.useState)(!1),[F,G]=(0,i.useState)(null),[O,Q]=(0,i.useState)([]),[J,X]=(0,i.useState)([]),[Y,K]=(0,i.useState)(!0),[W,ee]=(0,i.useState)(null),[es,ea]=(0,i.useState)({canView:!1,canEdit:!1,canDelete:!1,canManageAttendees:!1,canViewFinancials:!1,canSendCommunications:!1,role:"unauthorized"}),et=(0,i.useRef)(null),ei=(0,i.useRef)(null),en=L?F?.sessions.find(e=>e.sessionId===L):null,ec=(0,i.useMemo)(()=>L?O.filter(e=>e.sessionId===L):O,[O,L]),er=(0,i.useMemo)(()=>{let e=ec;return E&&(e=e.filter(e=>e.name.toLowerCase().includes(E.toLowerCase())||e.email.toLowerCase().includes(E.toLowerCase()))),"all"!==z&&(e=e.filter(e=>"checked-in"===z?e.checkedIn:!e.checkedIn)),e},[ec,E,z]),el=(0,i.useMemo)(()=>{let e=en?en.tickets:F?.sessions.flatMap(e=>e.tickets)||[],s=ec.reduce((e,s)=>e+(s.individualAmount||0),0),a=ec.filter(e=>e.checkedIn).length,t=e.reduce((e,s)=>e+s.capacity,0),i=e.reduce((e,s)=>e+(s.capacity-s.available_capacity),0);return{totalRevenue:s,totalAttendees:ec.length,checkedInCount:a,pendingCount:ec.length-a,totalCapacity:t,soldTickets:i,availableTickets:t-i,attendanceRate:ec.length>0?a/ec.length*100:0,salesRate:t>0?i/t*100:0}},[ec,en,F?.sessions]);(0,i.useEffect)(()=>{if(!T){ee("No event ID provided"),K(!1);return}return(async()=>{if(!x.currentUser){ea({canView:!1,canEdit:!1,canDelete:!1,canManageAttendees:!1,canViewFinancials:!1,canSendCommunications:!1,role:"unauthorized"}),ee("Please sign in to access this dashboard"),K(!1);return}try{let e=await d.verifyDashboardAccess(T,x.currentUser.uid);if(ea(e),!e.canView){ee("You do not have permission to view this event dashboard"),K(!1);return}await ed(),eo(),eh()}catch(e){console.error("Error checking authorization:",e),ee("Failed to verify permissions"),K(!1)}})(),()=>{et.current&&et.current(),ei.current&&ei.current()}},[T,x.currentUser]);let ed=async()=>{if(T)try{let e=await (0,r.QT)((0,r.JU)(c.db,"events",T));if(e.exists()){let s=e.data();G({id:e.id,title:s.title||s.eventTitle,about_event:s.about_event||"",event_type:s.event_type||"event",event_venue:s.event_venue||"",event_image:s.event_image,event_categories:s.event_categories||[],event_languages:s.event_languages||"",event_guides:s.event_guides||{},sessions:s.sessions||[],creator:s.creator||{type:"organisation",pageId:s.organizationId,name:s.hosting_club||"",username:s.organization_username||"",userId:s.organizationId},organizationId:s.organizationId,hosting_club:s.hosting_club,organization_username:s.organization_username,status:s.status||"active",createdAt:s.createdAt,updatedAt:s.updatedAt,image_upload_status:s.image_upload_status||"none"})}K(!1)}catch(e){console.error("Error fetching event data:",e),ee("Failed to load event data"),K(!1)}},eo=(0,i.useCallback)(()=>{if(!T||!es.canView)return;let e=(0,r.hJ)(c.db,"eventAttendees"),s=(0,r.IO)(e,(0,r.ar)("eventId","==",T),(0,r.Xo)("createdAt","desc")),a=(0,r.cf)(s,e=>{Q(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Error in real-time attendees listener:",e)});et.current=a},[T,es.canView]),eh=(0,i.useCallback)(()=>{if(!T||!es.canView)return;let e=(0,r.hJ)(c.db,"tickets"),s=(0,r.IO)(e,(0,r.ar)("eventId","==",T)),a=(0,r.cf)(s,e=>{X(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Error in tickets listener:",e)});ei.current=a},[T,es.canView]),em=(0,i.useCallback)(async()=>{R(!0);try{await ed()}catch(e){console.error("Error refreshing data:",e)}finally{R(!1)}},[]),ex=(0,i.useCallback)(e=>{V(e)},[]),eu=(()=>{if(!L||!F)return{title:"All Sessions",subtitle:`${F?.sessions.length||0} sessions total`,time:F?.sessions.map(e=>{let s=new Date(e.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),a=new Date(e.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return`${s}-${a}`}).join(", ")||"",color:"default"};let e=new Date(en.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),s=new Date(en.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return{title:en.title,subtitle:"Session Details",time:`${e} - ${s}`,color:"blue"}})();return Y?t.jsx("div",{className:Z().dashboard,children:t.jsx("div",{className:Z().container,children:t.jsx("div",{className:Z().card,children:t.jsx("p",{children:"Loading dashboard..."})})})}):W?t.jsx("div",{className:Z().dashboard,children:t.jsx("div",{className:Z().container,children:t.jsx("div",{className:Z().card,children:(0,t.jsxs)("p",{children:["Error: ",W]})})})}):F?(0,t.jsxs)("div",{className:`${Z().dashboard} ${e||""}`,children:[t.jsx("div",{className:Z().header,children:t.jsx("div",{className:Z().headerContainer,children:(0,t.jsxs)("div",{className:Z().headerContent,children:[(0,t.jsxs)("div",{className:Z().headerLeft,children:[t.jsx("div",{className:Z().eventImage,children:t.jsx("img",{src:F.event_image||"/placeholder.svg",alt:F.title,className:Z().eventImageImg})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:Z().eventTitle,children:F.title}),(0,t.jsxs)("div",{className:Z().eventMeta,children:[(0,t.jsxs)("div",{className:Z().eventMetaItem,children:[t.jsx(o.Z,{className:Z().icon}),t.jsx("span",{children:F.sessions.length>0?new Date(F.sessions[0].start_time).toLocaleDateString():"No sessions"})]}),(0,t.jsxs)("div",{className:Z().eventMetaItem,children:[t.jsx(h.Z,{className:Z().icon}),t.jsx("span",{children:F.event_venue})]})]})]})]}),(0,t.jsxs)("div",{className:Z().headerActions,children:[(0,t.jsxs)("button",{onClick:em,disabled:B,className:`${Z().button} ${Z().buttonSecondary}`,children:[t.jsx(m.Z,{className:`${Z().icon} ${B?Z().spinning:""}`}),"Refresh"]}),(0,t.jsxs)("button",{className:`${Z().button} ${Z().buttonPrimary}`,children:[t.jsx(u,{className:Z().icon}),"Settings"]})]})]})})}),(0,t.jsxs)("div",{className:Z().container,children:[t.jsx("div",{className:Z().sessionSelector,children:(0,t.jsxs)("div",{className:`${Z().sessionHeader} ${Z()[`sessionHeader${eu.color}`]}`,children:[(0,t.jsxs)("div",{className:Z().sessionHeaderContent,children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:Z().sessionTitle,children:eu.title}),t.jsx("p",{className:Z().sessionSubtitle,children:eu.subtitle}),(0,t.jsxs)("div",{className:Z().sessionMeta,children:[(0,t.jsxs)("div",{className:Z().sessionMetaItem,children:[t.jsx(j.Z,{className:Z().icon}),t.jsx("span",{children:eu.time})]}),(0,t.jsxs)("div",{className:Z().sessionMetaItem,children:[t.jsx(v.Z,{className:Z().icon}),(0,t.jsxs)("span",{children:[el.totalAttendees," attendees"]})]})]})]}),L&&(0,t.jsxs)("button",{onClick:()=>ex(null),className:Z().clearSessionButton,children:[t.jsx(N.Z,{className:Z().icon}),"View All Sessions"]})]}),t.jsx("div",{className:Z().sessionGrid,children:F.sessions.map(e=>{let s=O.filter(s=>s.sessionId===e.sessionId),a=e.tickets.reduce((e,s)=>e+s.capacity,0),i=e.tickets.reduce((e,s)=>e+(s.capacity-s.available_capacity),0),n=L===e.sessionId,c=new Date(e.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),r=new Date(e.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("button",{onClick:()=>ex(n?null:e.sessionId),className:`${Z().sessionCard} ${n?Z().sessionCardSelected:""}`,children:[(0,t.jsxs)("div",{className:Z().sessionCardHeader,children:[t.jsx("h3",{className:Z().sessionCardTitle,children:e.title}),n&&t.jsx(p,{className:Z().icon})]}),(0,t.jsxs)("div",{className:Z().sessionCardMeta,children:[(0,t.jsxs)("div",{className:Z().sessionCardMetaItem,children:[t.jsx(g,{className:Z().icon}),(0,t.jsxs)("span",{children:[c," - ",r]})]}),(0,t.jsxs)("div",{className:Z().sessionCardMetaItem,children:[t.jsx(v.Z,{className:Z().icon}),(0,t.jsxs)("span",{children:[i,"/",a," sold"]})]}),(0,t.jsxs)("div",{className:Z().sessionCardMetaItem,children:[t.jsx(p,{className:Z().icon}),(0,t.jsxs)("span",{children:[s.filter(e=>e.checkedIn).length," checked in"]})]})]})]},e.sessionId)})})]})}),(0,t.jsxs)("div",{className:Z().statsGrid,children:[t.jsx("div",{className:Z().statCard,children:(0,t.jsxs)("div",{className:Z().statCardContent,children:[t.jsx("div",{className:`${Z().statIcon} ${Z().statIconGreen}`,children:t.jsx(b.Z,{className:Z().icon})}),(0,t.jsxs)("div",{className:Z().statInfo,children:[t.jsx("p",{className:Z().statLabel,children:"Revenue"}),(0,t.jsxs)("p",{className:Z().statValue,children:["₹",el.totalRevenue.toLocaleString()]}),t.jsx("p",{className:Z().statSubtext,children:L?`${en?.title} only`:"All sessions"})]})]})}),t.jsx("div",{className:Z().statCard,children:(0,t.jsxs)("div",{className:Z().statCardContent,children:[t.jsx("div",{className:`${Z().statIcon} ${Z().statIconBlue}`,children:t.jsx(y.Z,{className:Z().icon})}),(0,t.jsxs)("div",{className:Z().statInfo,children:[t.jsx("p",{className:Z().statLabel,children:"Tickets Sold"}),t.jsx("p",{className:Z().statValue,children:el.soldTickets}),(0,t.jsxs)("div",{className:Z().progressContainer,children:[t.jsx("div",{className:Z().progressBar,children:t.jsx("div",{className:Z().progressFill,style:{width:`${Math.min(el.salesRate,100)}%`}})}),(0,t.jsxs)("span",{className:Z().progressText,children:[Math.round(el.salesRate),"% sold"]})]})]})]})}),t.jsx("div",{className:Z().statCard,children:(0,t.jsxs)("div",{className:Z().statCardContent,children:[t.jsx("div",{className:`${Z().statIcon} ${Z().statIconEmerald}`,children:t.jsx(p,{className:Z().icon})}),(0,t.jsxs)("div",{className:Z().statInfo,children:[t.jsx("p",{className:Z().statLabel,children:"Checked In"}),t.jsx("p",{className:Z().statValue,children:el.checkedInCount}),(0,t.jsxs)("p",{className:Z().statSubtext,children:[el.pendingCount," pending"]})]})]})}),t.jsx("div",{className:Z().statCard,children:(0,t.jsxs)("div",{className:Z().statCardContent,children:[t.jsx("div",{className:`${Z().statIcon} ${Z().statIconAmber}`,children:t.jsx(k.Z,{className:Z().icon})}),(0,t.jsxs)("div",{className:Z().statInfo,children:[t.jsx("p",{className:Z().statLabel,children:"Attendance Rate"}),(0,t.jsxs)("p",{className:Z().statValue,children:[Math.round(el.attendanceRate),"%"]}),t.jsx("p",{className:Z().statSubtext,children:"of registered attendees"})]})]})})]}),t.jsx("div",{className:Z().tabsContainer,children:t.jsx("div",{className:Z().tabs,children:t.jsx("nav",{className:Z().tabsNav,children:[{id:"overview",label:"Overview",icon:f.Z},{id:"attendees",label:"Attendees",icon:v.Z,count:el.totalAttendees},{id:"checkin",label:"Check-in",icon:C,count:el.pendingCount},{id:"sessions",label:"All Sessions",icon:o.Z,count:F.sessions.length},{id:"settings",label:"Settings",icon:u}].map(e=>{let s=e.icon,a=q===e.id;return(0,t.jsxs)("button",{onClick:()=>D(e.id),className:`${Z().tab} ${a?Z().tabActive:""}`,children:[t.jsx(s,{className:Z().tabIcon}),e.label,void 0!==e.count&&t.jsx("span",{className:`${Z().tabBadge} ${a?Z().tabBadgeActive:""}`,children:e.count})]},e.id)})})})}),(0,t.jsxs)("div",{className:Z().tabContent,children:["overview"===q&&(0,t.jsxs)("div",{className:Z().overviewContent,children:[(0,t.jsxs)("div",{className:Z().card,children:[t.jsx("h3",{className:Z().cardTitle,children:"Quick Actions"}),(0,t.jsxs)("div",{className:Z().quickActionsGrid,children:[(0,t.jsxs)("button",{className:Z().quickActionButton,children:[t.jsx(C,{className:Z().icon}),"Scan QR Code"]}),(0,t.jsxs)("button",{className:Z().quickActionButton,children:[t.jsx(S,{className:Z().icon}),"Add Attendee"]}),(0,t.jsxs)("button",{className:Z().quickActionButton,children:[t.jsx(I,{className:Z().icon}),"Export Data"]}),(0,t.jsxs)("button",{onClick:()=>a.push(`/event-profile/${T}`),className:Z().quickActionButton,children:[t.jsx(M,{className:Z().icon}),"Event Page"]})]})]}),!L&&(0,t.jsxs)("div",{className:Z().card,children:[t.jsx("h3",{className:Z().cardTitle,children:"Session Performance"}),t.jsx("div",{className:Z().sessionPerformanceGrid,children:F.sessions.map(e=>{let s=O.filter(s=>s.sessionId===e.sessionId),a=e.tickets.reduce((e,s)=>e+s.capacity,0),i=e.tickets.reduce((e,s)=>e+(s.capacity-s.available_capacity),0),n=s.reduce((e,s)=>e+(s.individualAmount||0),0),c=s.filter(e=>e.checkedIn).length,r=new Date(e.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),l=new Date(e.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{className:Z().sessionPerformanceCard,children:[(0,t.jsxs)("div",{className:Z().sessionPerformanceHeader,children:[t.jsx("h4",{className:Z().sessionPerformanceTitle,children:e.title}),(0,t.jsxs)("span",{className:Z().sessionPerformanceTime,children:[r," - ",l]})]}),(0,t.jsxs)("div",{className:Z().sessionPerformanceStats,children:[(0,t.jsxs)("div",{className:Z().sessionPerformanceStat,children:[t.jsx("p",{className:Z().sessionPerformanceStatValue,children:i}),t.jsx("p",{className:Z().sessionPerformanceStatLabel,children:"Tickets Sold"})]}),(0,t.jsxs)("div",{className:Z().sessionPerformanceStat,children:[t.jsx("p",{className:Z().sessionPerformanceStatValue,children:c}),t.jsx("p",{className:Z().sessionPerformanceStatLabel,children:"Checked In"})]})]}),(0,t.jsxs)("div",{className:Z().sessionPerformanceProgress,children:[(0,t.jsxs)("div",{className:Z().sessionPerformanceProgressHeader,children:[t.jsx("span",{className:Z().sessionPerformanceProgressLabel,children:"Sales Progress"}),(0,t.jsxs)("span",{className:Z().sessionPerformanceProgressValue,children:[Math.round(i/a*100),"%"]})]}),t.jsx("div",{className:Z().progressBar,children:t.jsx("div",{className:Z().progressFill,style:{width:`${Math.min(i/a*100,100)}%`}})})]}),(0,t.jsxs)("div",{className:Z().sessionPerformanceFooter,children:[(0,t.jsxs)("span",{className:Z().sessionPerformanceRevenue,children:["Revenue: ₹",n]}),t.jsx("button",{onClick:()=>ex(e.sessionId),className:Z().sessionPerformanceButton,children:"View Details →"})]})]},e.sessionId)})})]}),(0,t.jsxs)("div",{className:Z().card,children:[(0,t.jsxs)("h3",{className:Z().cardTitle,children:["Recent Check-ins ",L&&`- ${en?.title}`]}),(0,t.jsxs)("div",{className:Z().recentActivity,children:[ec.filter(e=>e.checkedIn).slice(0,5).map(e=>{let s=F.sessions.find(s=>s.sessionId===e.sessionId);return(0,t.jsxs)("div",{className:Z().activityItem,children:[t.jsx("div",{className:Z().activityIcon,children:t.jsx(p,{className:Z().icon})}),(0,t.jsxs)("div",{className:Z().activityInfo,children:[t.jsx("p",{className:Z().activityName,children:e.name}),t.jsx("p",{className:Z().activityEmail,children:e.email}),!L&&t.jsx("p",{className:Z().activitySession,children:s?.title})]}),t.jsx("div",{className:Z().activityTime,children:e.checkInTime&&new Date(e.checkInTime).toLocaleTimeString()})]},e.id)}),0===ec.filter(e=>e.checkedIn).length&&t.jsx("p",{className:Z().emptyState,children:"No check-ins yet for this session"})]})]})]}),"attendees"===q&&(0,t.jsxs)("div",{className:Z().attendeesContent,children:[(0,t.jsxs)("div",{className:Z().card,children:[(0,t.jsxs)("div",{className:Z().attendeesFilters,children:[t.jsx("div",{className:Z().searchContainer,children:(0,t.jsxs)("div",{className:Z().searchInput,children:[t.jsx(w.Z,{className:Z().searchIcon}),t.jsx("input",{type:"text",placeholder:"Search attendees...",value:E,onChange:e=>U(e.target.value),className:Z().input})]})}),(0,t.jsxs)("div",{className:Z().filtersRight,children:[(0,t.jsxs)("select",{value:z,onChange:e=>H(e.target.value),className:Z().select,children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"checked-in",children:"Checked In"}),t.jsx("option",{value:"pending",children:"Pending"})]}),(0,t.jsxs)("button",{className:`${Z().button} ${Z().buttonPrimary}`,children:[t.jsx(S,{className:Z().icon}),"Add Attendee"]})]})]}),L&&t.jsx("div",{className:Z().filterAlert,children:(0,t.jsxs)("p",{className:Z().filterAlertText,children:[t.jsx(P,{className:Z().icon}),"Showing attendees for ",t.jsx("strong",{children:en?.title})," only"]})})]}),(0,t.jsxs)("div",{className:Z().card,children:[t.jsx("div",{className:Z().tableContainer,children:(0,t.jsxs)("table",{className:Z().table,children:[t.jsx("thead",{className:Z().tableHead,children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:Z().tableHeader,children:"Attendee"}),t.jsx("th",{className:Z().tableHeader,children:"Ticket Type"}),t.jsx("th",{className:Z().tableHeader,children:"Session"}),t.jsx("th",{className:Z().tableHeader,children:"Status"}),t.jsx("th",{className:Z().tableHeader,children:"Check-in Time"}),t.jsx("th",{className:Z().tableHeader,children:t.jsx("span",{className:Z().srOnly,children:"Actions"})})]})}),t.jsx("tbody",{className:Z().tableBody,children:er.map(e=>{let s=F.sessions.find(s=>s.sessionId===e.sessionId),a=s?new Date(s.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",i=s?new Date(s.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";return(0,t.jsxs)("tr",{className:Z().tableRow,children:[t.jsx("td",{className:Z().tableCell,children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:Z().attendeeName,children:e.name}),t.jsx("div",{className:Z().attendeeEmail,children:e.email})]})}),t.jsx("td",{className:Z().tableCell,children:t.jsx("span",{className:`${Z().badge} ${Z().badgeBlue}`,children:e.ticketType})}),t.jsx("td",{className:Z().tableCell,children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:Z().sessionName,children:s?.title||"N/A"}),(0,t.jsxs)("div",{className:Z().sessionTime,children:[a," - ",i]})]})}),t.jsx("td",{className:Z().tableCell,children:e.checkedIn?(0,t.jsxs)("span",{className:`${Z().badge} ${Z().badgeGreen}`,children:[t.jsx(p,{className:Z().badgeIcon}),"Checked In"]}):(0,t.jsxs)("span",{className:`${Z().badge} ${Z().badgeYellow}`,children:[t.jsx($,{className:Z().badgeIcon}),"Pending"]})}),t.jsx("td",{className:Z().tableCell,children:e.checkInTime?new Date(e.checkInTime).toLocaleString():"-"}),t.jsx("td",{className:Z().tableCell,children:t.jsx("button",{className:Z().editButton,children:"Edit"})})]},e.id)})})]})}),0===er.length&&(0,t.jsxs)("div",{className:Z().emptyStateContainer,children:[t.jsx(v.Z,{className:Z().emptyStateIcon}),t.jsx("h3",{className:Z().emptyStateTitle,children:"No attendees found"}),t.jsx("p",{className:Z().emptyStateText,children:L?`No attendees registered for ${en?.title}`:"No attendees match your search criteria"})]})]})]}),"checkin"===q&&(0,t.jsxs)("div",{className:Z().checkinContent,children:[(0,t.jsxs)("div",{className:Z().card,children:[(0,t.jsxs)("h3",{className:Z().cardTitle,children:["Check-in Methods ",L&&`- ${en?.title}`]}),(0,t.jsxs)("div",{className:Z().checkinMethodsGrid,children:[(0,t.jsxs)("div",{className:Z().checkinMethod,children:[t.jsx(C,{className:Z().checkinMethodIcon}),t.jsx("h4",{className:Z().checkinMethodTitle,children:"QR Code Scanner"}),t.jsx("p",{className:Z().checkinMethodDescription,children:"Scan attendee tickets for quick check-in"}),t.jsx("button",{className:`${Z().button} ${Z().buttonPrimary}`,children:"Open Scanner"})]}),(0,t.jsxs)("div",{className:Z().checkinMethod,children:[t.jsx(w.Z,{className:Z().checkinMethodIcon}),t.jsx("h4",{className:Z().checkinMethodTitle,children:"Manual Check-in"}),t.jsx("p",{className:Z().checkinMethodDescription,children:"Search and check in attendees manually"}),t.jsx("button",{className:`${Z().button} ${Z().buttonSuccess}`,children:"Manual Check-in"})]})]})]}),(0,t.jsxs)("div",{className:Z().card,children:[(0,t.jsxs)("h3",{className:Z().cardTitle,children:["Pending Check-ins (",el.pendingCount,") ",L&&`- ${en?.title}`]}),(0,t.jsxs)("div",{className:Z().checkinList,children:[ec.filter(e=>!e.checkedIn).slice(0,10).map(e=>{let s=F.sessions.find(s=>s.sessionId===e.sessionId);return(0,t.jsxs)("div",{className:Z().checkinItem,children:[(0,t.jsxs)("div",{className:Z().checkinItemInfo,children:[t.jsx("p",{className:Z().checkinItemName,children:e.name}),t.jsx("p",{className:Z().checkinItemEmail,children:e.email}),(0,t.jsxs)("p",{className:Z().checkinItemMeta,children:[e.ticketType," • ",s?.title]})]}),(0,t.jsxs)("button",{className:`${Z().button} ${Z().buttonSuccess}`,children:[t.jsx(p,{className:Z().icon}),"Check In"]})]},e.id)}),0===ec.filter(e=>!e.checkedIn).length&&(0,t.jsxs)("div",{className:Z().checkinEmptyLarge,children:[t.jsx(p,{className:Z().checkinEmptyLargeIcon}),t.jsx("h3",{className:Z().checkinEmptyLargeTitle,children:"All caught up!"}),(0,t.jsxs)("p",{className:Z().checkinEmptyLargeText,children:["All attendees ",L?`for ${en?.title}`:""," have been checked in"]})]})]})]})]}),"sessions"===q&&t.jsx("div",{className:Z().sessionsContent,children:t.jsx("div",{className:Z().sessionsGrid,children:F.sessions.map(e=>{let s=O.filter(s=>s.sessionId===e.sessionId),a=e.tickets.reduce((e,s)=>e+s.capacity,0),i=e.tickets.reduce((e,s)=>e+(s.capacity-s.available_capacity),0),n=s.filter(e=>e.checkedIn).length,c=s.reduce((e,s)=>e+(s.individualAmount||0),0),r=new Date(e.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),l=new Date(e.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{className:Z().sessionCard,children:[(0,t.jsxs)("div",{className:Z().sessionCardHeader,children:[t.jsx("h3",{className:Z().sessionCardTitle,children:e.title}),(0,t.jsxs)("span",{className:`${Z().badge} ${Z().badgeBlue}`,children:[i,"/",a," sold"]})]}),(0,t.jsxs)("div",{className:Z().sessionCardMeta,children:[(0,t.jsxs)("div",{className:Z().sessionCardMetaItem,children:[t.jsx(j.Z,{className:Z().icon}),r," - ",l]}),(0,t.jsxs)("div",{className:Z().sessionCardMetaItem,children:[t.jsx(h.Z,{className:Z().icon}),F.event_venue]})]}),(0,t.jsxs)("div",{className:Z().sessionCardStats,children:[(0,t.jsxs)("div",{className:Z().sessionCardStat,children:[t.jsx("p",{className:Z().sessionCardStatValue,children:i}),t.jsx("p",{className:Z().sessionCardStatLabel,children:"Sold"})]}),(0,t.jsxs)("div",{className:Z().sessionCardStat,children:[t.jsx("p",{className:Z().sessionCardStatValue,children:n}),t.jsx("p",{className:Z().sessionCardStatLabel,children:"Checked In"})]}),(0,t.jsxs)("div",{className:Z().sessionCardStat,children:[(0,t.jsxs)("p",{className:Z().sessionCardStatValue,children:["₹",c]}),t.jsx("p",{className:Z().sessionCardStatLabel,children:"Revenue"})]})]}),(0,t.jsxs)("div",{className:Z().sessionCardProgress,children:[(0,t.jsxs)("div",{className:Z().sessionCardProgressHeader,children:[t.jsx("span",{className:Z().sessionCardProgressLabel,children:"Sales Progress"}),(0,t.jsxs)("span",{className:Z().sessionCardProgressValue,children:[Math.round(i/a*100),"%"]})]}),t.jsx("div",{className:Z().progressBar,children:t.jsx("div",{className:Z().progressFill,style:{width:`${Math.min(i/a*100,100)}%`}})})]}),(0,t.jsxs)("div",{className:Z().sessionCardActions,children:[(0,t.jsxs)("button",{onClick:()=>{ex(e.sessionId),D("attendees")},className:`${Z().button} ${Z().buttonSecondary}`,children:[t.jsx(v.Z,{className:Z().icon}),"View Attendees"]}),(0,t.jsxs)("button",{onClick:()=>{ex(e.sessionId),D("checkin")},className:`${Z().button} ${Z().buttonPrimary}`,children:[t.jsx(C,{className:Z().icon}),"Check-in"]})]})]},e.sessionId)})})}),"settings"===q&&t.jsx("div",{className:Z().settingsContent,children:(0,t.jsxs)("div",{className:Z().card,children:[t.jsx("h3",{className:Z().cardTitle,children:"Event Management"}),(0,t.jsxs)("div",{className:Z().settingsGrid,children:[(0,t.jsxs)("button",{onClick:()=>a.push(`/edit-event/${T}`),className:Z().settingsButton,children:[t.jsx(A,{className:Z().icon}),"Edit Event Details"]}),(0,t.jsxs)("button",{className:Z().settingsButton,children:[t.jsx(y.Z,{className:Z().icon}),"Manage Tickets"]}),(0,t.jsxs)("button",{className:Z().settingsButton,children:[t.jsx(I,{className:Z().icon}),"Export Data"]}),(0,t.jsxs)("button",{className:`${Z().settingsButton} ${Z().settingsButtonDanger}`,children:[t.jsx(_.Z,{className:Z().icon}),"Delete Event"]})]})]})})]})]})]}):t.jsx("div",{className:Z().dashboard,children:t.jsx("div",{className:Z().container,children:t.jsx("div",{className:Z().card,children:t.jsx("p",{children:"Event not found"})})})})}},57570:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\nSyntaxError\n\n(824:1) /Users/shreyasgurav/Documents/Projects/Zest Deployed/src/app/event-dashboard/[id]/EventDashboard.module.css Unknown word\n\n \x1b[90m 822 | \x1b[39m    grid-template-columns\x1b[33m:\x1b[39m \x1b[36mrepeat\x1b[39m\x1b[36m(2, 1fr)\x1b[39m\x1b[33m;\x1b[39m\n \x1b[90m 823 | \x1b[39m  \x1b[33m}\x1b[39m\n\x1b[1m\x1b[31m>\x1b[39m\x1b[22m\x1b[90m 824 | \x1b[39m<<<<<<< Updated upstream\n \x1b[90m     | \x1b[39m\x1b[1m\x1b[31m^\x1b[39m\x1b[22m\n \x1b[90m 825 | \x1b[39m\x1b[33m}\x1b[39m \n \x1b[90m 826 | \x1b[39m\n")},8816:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});let t=(0,a(86843).createProxy)(String.raw`/Users/shreyasgurav/Documents/Projects/Zest Deployed/src/app/event-dashboard/[id]/page.tsx`),{__esModule:i,$$typeof:n}=t,c=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[1638,4292,4684],()=>a(16788));module.exports=t})();